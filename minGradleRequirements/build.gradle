/*defaultTasks 'doFinished'

println ">>> build.gradle --> This is executed during the configuration phase  - timestamp @ ${gradle.timestamp()}"



task doStartProcess {
	doLast{
		println "$name - Now starting the process - OK!"
	}
}

task doStep2{
	doLast{
		println "$name - Performed OK!"
	}
}

task doSomethingInTheMiddle (dependsOn: ['doStartProcess', 'doStep2']) {
	doLast{
		println "$name - Performed the middle step - OK!"
	}
}


task doFinished (dependsOn: ['doSomethingInTheMiddle', 'doStep2'])   {
	doLast{
		println "$name - Done - OK!"
	}	
}*/

defaultTasks 'doFinished'

println ">>> build.gradle --> This is executed during the configuration phase  - timestamp @ ${gradle.timestamp()}"



task doStartProcess {
	doLast{
		println "$name - Now starting the process - OK!"
	}
}





task doFinished (dependsOn: ['doSomethingInTheMiddle', 'doStep2'])   {
	doLast{
		println "$name - Done - OK!"
	}	
}

task doSomethingInTheMiddle (dependsOn: ['doStartProcess',  tasks.findAll { task -> task.name.startsWith('doStep2')  }  ]) {
	doLast{
		println "$name - Performed the middle step - OK!"
	}
}




task doStep2{
	doLast{
		println "$name - Performed OK!"
	}
}

println ">>> ${ project.tasks.findAll { task -> task.name.startsWith('doStep2')  }  }"



/*

//Add to dependency to existing Task

defaultTasks 'doFinished'

println ">>> build.gradle --> This is executed during the configuration phase  - timestamp @ ${gradle.timestamp()}"


task doStartProcess {
	doLast{
		println "$name - Now starting the process - OK!"
	}
}

task doStep2 {
	doLast{
		println "$name - Performed OK!"
	}
}

task doSomethingInTheMiddle  {
	doLast{
		println "$name - Performed the middle step - OK!"
	}
}


task doFinished (dependsOn: 'doSomethingInTheMiddle'){
	doLast{
		println "$name - Done - OK!"
	}	
}


println "${ project.tasks.findAll { task -> task.name.startsWith('doStep2')} }"


//Conditional logic
if ( Math.random() < 0.5){
	doSomethingInTheMiddle.dependsOn doStartProcess, tasks.findAll { task -> task.name.startsWith('doStep2') }
}


*/